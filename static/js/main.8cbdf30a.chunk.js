(this["webpackJsonprandom-jumps"]=this["webpackJsonprandom-jumps"]||[]).push([[0],{25:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(17),i=n.n(s),o=(n(25),n(4)),c=n(7),l=n(8),u=n(12),d=n(18),h=n(3),b=n(2),j=n(0),f=function(e){var t=e.refCallback,n=e.children;return Object(j.jsx)("div",{className:"board-wrapper",children:Object(j.jsx)("table",{ref:t,children:Object(j.jsx)("tbody",{children:n})})})},v=function(e){e.rankName,e.isCurrent;var t=e.children;return Object(j.jsx)("tr",{children:t})},g=function(e){var t,n=e.visitCount,r=e.maxSquareCount,s=e.squareName,i=e.getHeatmapHexString,o=e.setDropSquare,c=e.makeManualMove,l=e.unsetClickedSquare,u=e.isCurrent,d=e.isDragging,h=e.isTarget,f=e.isManual,v=e.displaySettings,g=v.showCount,m=v.showPercent,O=v.showHeatmap,p=v.showHighlight,x=Object(a.useState)(!1),S=Object(b.a)(x,2),C=S[0],k=S[1],T=n/r,w="".concat(Math.round(100*T),"%"),R=O?{backgroundColor:i(T)}:null,y=function(e){e.preventDefault(),e.dataTransfer.dropEffect="move",C||f&&!h||k(!0)};f&&(t=h?function(){c(s)}:function(){l()});var I=u&&p?"current":void 0;return"current"===I&&d&&(I+=" dragged"),(C||h)&&(I="drop-target"),Object(j.jsxs)("td",{className:I,title:s,onDragEnter:y,onDragOver:y,onDragLeave:function(e){e.preventDefault(),k(!1)},onDrop:function(e){e.preventDefault(),k(!1),f&&h?c(s):f||o(s)},onClick:t,style:R,children:[m&&Object(j.jsx)("span",{className:"percent",children:w}),g&&Object(j.jsx)("span",{className:"count",children:n})]})},m=n.p+"static/media/Chess_ndt45.d714eeb4.svg";var O=function(e){var t,n=e.squareWidth,a=e.visualRankIndex,r=e.fileIndex,s=e.interval,i=e.setIsDragging,o=e.isDraggable,c=e.isResizing,l=e.isManual,u=e.isClicked,d=e.setClickedSquare,h=e.unsetClickedSquare,b=c?"none":"all ".concat(s/2,"ms");l&&(t=u?function(){h()}:function(){d(r,a)});var f="default";return l?f="pointer":o&&(f="grab"),Object(j.jsx)("div",{className:"piece",style:{width:n,height:n,left:n*r,top:n*a,transition:b,cursor:f},role:"button",onClick:t,children:Object(j.jsx)("img",{draggable:o,onDragStart:function(e){e.dataTransfer.setData("text/plain","".concat(r,",").concat(a)),e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",i(!0),l&&d(r,a)},onDragEnd:function(){i(!1)},width:.7*n,height:.7*n,src:m,alt:"Knight"})})},p=n(14),x=function e(t,n){var a=this;Object(o.a)(this,e),this.plus=function(t){var n=[a.x+t.x,a.y+t.y];return Object(p.a)(e,n)},this.times=function(t){var n=[t*a.x,t*a.y];return Object(p.a)(e,n)},this.reverse=function(){return new e(a.y,a.x)},this.x=t,this.y=n,this.array=[t,n]};function S(e,t,n){return e<=t&&t<=n}var C={langCode:{en:"EN",fr:"FR"},OTHER_LANG:{en:"Fran\xe7ais",fr:"English"},OTHER_LANG_CODE:{en:"fr",fr:"en"},TITLE:{en:"Random Knight Jumps",fr:"Marche Al\xe9atoire du Cavalier"},START:{en:"Start",fr:"Marche"},STOP:{en:"Stop",fr:"Arr\xeat"},RESET:{en:"Reset",fr:"R\xe9initialiser"},SETTINGS:{en:"Settings",fr:"Param\xe8tres"},SPEED:{en:"Speed",fr:"Vitesse"},SPEED_NAMES:[{en:"Walk",fr:"Pas"},{en:"Trot",fr:"Trot"},{en:"Canter",fr:"Petit galop"},{en:"Gallop",fr:"Galop"},{en:"Jet",fr:"Turbor\xe9acteur"},{en:"Warp",fr:"Supraluminique"}],SHOW:{en:"Show",fr:"Afficher"},KNIGHT:{en:"Knight",fr:"Cavalier"},COUNT:{en:"Count",fr:"Compte"},PERCENT_MAX:{en:"% of max",fr:"% de la valeur max"},HEATMAP:{en:"Heatmap",fr:"Carte de chaleur"},HIGHLIGHT:{en:"Highlight",fr:"Surlignage"},BOARD:{en:"Board",fr:"\xc9chiquier"},RANKS:{en:"Ranks",fr:"Rang\xe9es"},FILES:{en:"Files",fr:"Colonnes"},ROWS:{en:"i.e., rows",fr:""},COLS:{en:"i.e., columns",fr:""},NEW_BOARD:{en:"New Board",fr:"Nouvel \xc9chiquier"},MODE:{en:"Mode",fr:"Mode"},AUTOMATIC:{en:"Automatic",fr:"Automatique"},MANUAL:{en:"Manual",fr:"Manuel"},STATS:{en:"Stats for nerds",fr:"Statistiques"},TRIP_COUNT:{en:"Completed trips:",fr:"Voyages termin\xe9s:"},MOVE_COUNTS:{en:"Moves per trip:",fr:"Coups par voyage:"},AVERAGE:{en:"Average:",fr:"Moyen:"},TOTAL_MOVES:{en:"Total moves:",fr:"Nombre de coups:"},COPY:{en:"Copy",fr:"Copier"},COPY_MSG:{en:"Formatted as single column",fr:"En forme d'une seule colonne"},COPY_BOARD:{en:"Copy board as CSV",fr:"Copier l'\xe9chiquier au format CSV"},COPIED:{en:"Copied!",fr:"Copi\xe9!"},TO_INITIAL:{en:"To initial square",fr:"\xc0 la case initiale"},TO_ALL:{en:"To all squares",fr:"\xc0 toutes les cases"}};Object.keys(C).forEach((function(e){C[e].empty=""}));var k=C,T=k.SPEED_NAMES,w="abcdefghijklmnopqrstuvwxyz",R=new Map([[T[0],600],[T[1],300],[T[2],200],[T[3],100],[T[4],10],[T[5],1]]),y=100,I=function(e){return w[e]},M=function(e){return(e+1).toString()},N=function(e,t){return I(e)+M(t)},E=function(e){return{fileIndex:w.split("").indexOf(e[0]),rankIndex:parseInt(e[1],10)-1}},A=function(e,t,n,a){return S(0,e,n-1)&&S(0,t,a-1)},D={prevDimsString:"0x0"},q=function(e,t,n,a){var r=N(e,t),s=[n,a],i=[n,a].join("x");if(i!==D.prevDimsString&&(D={prevDimsString:i}),Array.isArray(D[r]))return D[r];for(var o=new x(e,t),c=[],l=Math.PI,u=Math.cos,d=Math.sin,b=Math.round,j=0;j<2*l;j+=l/2){var f=new x(b(u(j)),b(d(j))),v=f.times(2),g=o.plus(v);if(A.apply(void 0,Object(h.a)(g.array).concat(s))){var m=f.reverse(),O=g.plus(m).array,p=g.plus(m.times(-1)).array;A.apply(void 0,Object(h.a)(O).concat(s))&&c.push(O),A.apply(void 0,Object(h.a)(p).concat(s))&&c.push(p)}}return D[r]=c,c};var F=Object(a.createContext)({lang:"empty",setLang:function(){}}),H=function(e,t,n){var a=Math.max(1,y/e);n(window.setInterval((function(){t(a)}),Math.max(y,e)))};var L=function(e){var t=e.makeRandomMoves,n=e.resetBoard,r=e.interval,s=e.totalFiles,i=e.totalRanks,o=e.isManual,c=Object(a.useContext)(F).lang,l=k.START,u=k.STOP,d=k.RESET,h="".concat(s,"x").concat(i),f=Object(a.useState)(h),v=Object(b.a)(f,2),g=v[0],m=v[1],O=Object(a.useState)(null),p=Object(b.a)(O,2),x=p[0],S=p[1],C=Object(a.useState)(r),T=Object(b.a)(C,2),w=T[0],R=T[1],y=Object(a.useRef)(null);Object(a.useEffect)((function(){return o&&x&&(window.clearInterval(x),S(null)),null!==x&&(r!==w&&(window.clearInterval(x),H(r,t,S)),h!==g&&(window.clearInterval(x),S(null))),R(r),m(h),function(){x&&window.clearInterval(x)}}),[x,r,w,t,g,h,o]);var I=function(){window.clearInterval(x),S(null)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{disabled:o||null!==x,className:"panel-button",onClick:function(){H(r,t,S)},type:"button",children:l[c]}),Object(j.jsx)("button",{disabled:o||null===x,className:"panel-button",onClick:I,type:"button",children:u[c]}),Object(j.jsx)("button",{ref:y,className:"panel-button",onClick:function(){null!==x&&I(),n(),y.current.blur()},type:"button",children:d[c]})]})},P=n(20),_=["buttonText","children"];var G=function(e){var t=e.buttonText,n=e.children,r=Object(P.a)(e,_),s=Object(a.useState)(!1),i=Object(b.a)(s,2),o=i[0],c=i[1],l="disclosure-toggler",u="disclosure-content";return o&&(l+=" open",u+=" open"),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:l,onClick:function(){c(!o)},children:t}),Object(j.jsx)("div",{className:u,children:Object(a.cloneElement)(n,r)})]})},W=n(5),z=n(15),B=n.n(z),K=n(16),U=n.n(K),V=n(19),Y=function(){var e=Object(V.a)(U.a.mark((function e(t,n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var J=function(e,t,n){var r=Object(a.useState)(!1),s=Object(b.a)(r,2),i=s[0],o=s[1],c=Object(a.useRef)(null);return Object(a.useEffect)((function(){return i&&(c.current=window.setTimeout((function(){t(),o(!1)}),700)),function(){i&&window.clearTimeout(c.current)}}),[i,t,n]),function(t){Y(t,(function(){e(),o(!0)}))}},X=k.TRIP_COUNT,Q=k.MOVE_COUNTS,Z=k.AVERAGE,$=k.COPY,ee=k.COPY_MSG,te=k.COPIED,ne=function(e,t){return e+t};var ae=function(e){var t=e.id,n=e.heading,r=e.array,s=Object(a.useContext)(F).lang,i=Object(a.useState)($[s]),o=Object(b.a)(i,2),c=o[0],l=o[1],u=J((function(){return l(te[s])}),(function(){return l($[s])}),s),d=Object(a.useState)(!1),h=Object(b.a)(d,2),f=h[0],v=h[1],g=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;if(null===g||void 0===g||null===(e=g.current)||void 0===e?void 0:e.scrollTo){var t=g.current.scrollHeight;g.current.scrollTo({top:t,left:0,behavior:"smooth"})}}));var m="textarea-".concat(t),O="count-".concat(t),p="ave-".concat(t),x=r.join(", "),S=r.length>0?(r.reduce(ne)/r.length).toFixed(2):"",C=r.join(W.EOL);C+=W.EOL;var k=B()({copy:!0,show:f}),T=B()({"copy-msg":!0,show:f});return Object(j.jsxs)("div",{className:"section","data-heading":n,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"inline",id:O,children:X[s]}),Object(j.jsx)("span",{"aria-labelledby":O,children:r.length.toString()})]}),Object(j.jsx)("label",{htmlFor:m,children:Q[s]}),Object(j.jsxs)("div",{className:"textarea-wrapper",onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)},children:[Object(j.jsx)("textarea",{id:m,ref:g,readOnly:!0,value:x}),Object(j.jsx)("button",{className:k,onClick:function(){u(C)},children:c}),Object(j.jsx)("div",{className:T,children:ee[s]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"inline",id:p,children:Z[s]}),Object(j.jsx)("span",{"aria-labelledby":p,children:S})]})]})},re=k.TO_INITIAL,se=k.TO_ALL,ie=k.TOTAL_MOVES,oe=k.COPIED,ce=k.COPY_BOARD;var le=function(e){var t=e.stats,n=t.totalMoves,r=t.countsForReturn,s=t.countsForTour,i=e.visitCounts,o=Object(a.useContext)(F).lang,c=Object(a.useState)(ce[o]),l=Object(b.a)(c,2),u=l[0],d=l[1],h=i.slice(0).reverse().map((function(e){return e.join(",")})).join(W.EOL);h+=W.EOL;var f=J((function(){d(oe[o])}),(function(){d(ce[o])}),o);return Object(j.jsxs)("div",{children:[Object(j.jsx)(ae,{id:"returnsToInitial",heading:re[o],array:r}),Object(j.jsx)(ae,{id:"tours",heading:se[o],array:s}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{id:"totalMoves",className:"inline",htmlFor:"totalMoves",children:ie[o]}),Object(j.jsx)("span",{"aria-labelledby":"totalMoves",children:n.toString()})]}),Object(j.jsx)("button",{type:"button",className:"button button-link",onClick:function(){f(h)},children:u})]})};var ue=function(e){var t=e.id,n=e.isChecked,a=e.isDisabled,r=e.children,s=e.handleChange,i=a?"disabled":void 0;return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"checkbox",id:t,onChange:s,checked:n,disabled:a}),Object(j.jsx)("label",{className:i,htmlFor:t,children:r})]})};var de=function(e){var t=e.label,n=e.value,a=e.handleChange,r=e.title,s=r.length>0?r:void 0;return Object(j.jsxs)("div",{className:"number-input-wrapper",title:s,children:[Object(j.jsx)("label",{className:"number",htmlFor:"".concat(t,"-input"),children:t}),Object(j.jsx)("input",{type:"number",id:"".concat(t,"-input"),value:n,min:5,max:12,onChange:a})]})},he=Array.from(R.values()),be=k.SPEED,je=k.SHOW,fe=k.KNIGHT,ve=k.COUNT,ge=k.PERCENT_MAX,me=k.HEATMAP,Oe=k.HIGHLIGHT,pe=k.BOARD,xe=k.RANKS,Se=k.FILES,Ce=k.ROWS,ke=k.COLS,Te=k.NEW_BOARD,we=k.MODE,Re=k.AUTOMATIC,ye=k.MANUAL;var Ie=function(e){var t=e.speedNames,n=e.speedIndex,r=e.setSpeed,s=e.displaySettings,i=s.showKnight,o=s.showCount,c=s.showPercent,l=s.showHeatmap,u=s.showHighlight,d=e.toggleDisplaySettings,h=e.initialTotalFiles,f=e.initialTotalRanks,v=e.changeDimensions,g=e.isManual,m=e.setMode,O=Object(a.useContext)(F).lang,p=Object(a.useState)(h),x=Object(b.a)(p,2),S=x[0],C=x[1],k=Object(a.useState)(f),T=Object(b.a)(k,2),w=T[0],R=T[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"speed-select",children:be[O]}),Object(j.jsx)("select",{id:"speed-select",value:n.toString(),onChange:r,multiple:!1,children:t.map((function(e,t){return Object(j.jsx)("option",{value:t.toString(),children:e[O]},t)}))}),Object(j.jsxs)("div",{className:"section","data-heading":je[O],children:[Object(j.jsx)(ue,{id:"show-knight",isChecked:i,isDisabled:he[n]<y,handleChange:function(){d("showKnight")},children:fe[O]}),Object(j.jsx)(ue,{id:"show-count",isChecked:o,handleChange:function(){d("showCount")},children:ve[O]}),Object(j.jsx)(ue,{id:"show-percent",isChecked:c,handleChange:function(){d("showPercent")},children:ge[O]}),Object(j.jsx)(ue,{id:"show-heatmap",isChecked:l,handleChange:function(){d("showHeatmap")},children:me[O]}),Object(j.jsx)(ue,{id:"show-highlight",isChecked:u,handleChange:function(){d("showHighlight")},children:Oe[O]})]}),Object(j.jsxs)("div",{className:"section","data-heading":pe[O],children:[Object(j.jsx)(de,{label:xe[O],title:Ce[O],value:w,handleChange:function(e){var t=e.target.value;R(parseInt(t,10))}}),Object(j.jsx)(de,{label:Se[O],title:ke[O],value:S,handleChange:function(e){var t=e.target.value;C(parseInt(t,10))}}),Object(j.jsx)("button",{type:"button",className:"button button-link",onClick:function(){v(S,w)},children:Te[O]})]}),Object(j.jsxs)("section",{className:"section","data-heading":we[O],children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"radio",id:"auto-mode",name:"mode-radio",value:"auto",checked:!g,onChange:m}),Object(j.jsx)("label",{htmlFor:"auto-mode",children:Re[O]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"radio",id:"manual-mode",name:"mode-radio",value:"manual",checked:g,onChange:m}),Object(j.jsx)("label",{htmlFor:"manual-mode",children:ye[O]})]})]})]})},Me={totalMoves:0,countsForReturn:[],countsForTour:[],currentReturnCount:0,currentTourCount:0},Ne=k.SETTINGS,Ee=k.STATS,Ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n),(e=t.call(this)).boardRefCallback=function(t){if(t){e.boardEl||(e.boardEl=t);var n=t.clientWidth/e.state.totalFiles;e.setState({squareWidth:n})}},e.resizeCallback=function(t){var n=Object(b.a)(t,1)[0].contentRect;e.state.timeoutId&&window.clearTimeout(e.state.timeoutId);var a=window.setTimeout((function(){e.setState({isResizing:!1,timeoutId:null})}),200);e.setState({squareWidth:n.width/e.state.totalFiles,isResizing:!0,timeoutId:a})},e.getHeatmapHexString=function(t){return function(e,t){var n=e*(t.data.length-1),a=n-n%4,r=Array.from(t.data.slice(a,a+3)).map((function(e){return e.toString(16)})).map((function(e){return 1===e.length?"0".concat(e):e})),s=Object(b.a)(r,3),i=s[0],o=s[1],c=s[2];return"#".concat(i).concat(o).concat(c)}(t,e.state.gradientImageData)},e.reverseRankIndex=function(t){return e.state.totalRanks-t-1},e.moveKnight=function(t){var n=t.map((function(e){return N.apply(void 0,Object(h.a)(e))})),a=e.state.visitCounts.map((function(e,t){return e.map((function(e,a){return e+n.filter((function(e){return e===N(a,t)})).length}))})),r=t.slice(-1),s=a.flat().reduce((function(e,t){return Math.max(e,t)}));e.setState({currentFileIndex:r[0][0],currentRankIndex:r[0][1],visitCounts:a,maxSquareCount:s})},e.makeRandomMoves=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=e.state,a=n.currentFileIndex,r=n.currentRankIndex,s=n.startSquareName,i=n.visitedSquareNameSet,o=n.stats,c=o.totalMoves,l=o.countsForReturn,u=o.countsForTour,d=o.currentReturnCount,j=o.currentTourCount,f=a,v=r,g=d,m=j,O=new Set(i),p=[],x=[],S=[],C=0;C<t;C+=1){var k=e.state,T=k.totalRanks,w=k.totalFiles,R=q(f,v,w,T),y=Math.floor(Math.random()*R.length),I=R[y],M=N.apply(void 0,Object(h.a)(I));g+=1,M===s&&(p.push(g),g=0),m+=1,O.add(M),O.size===w*T&&(x.push(m),O=new Set([M]),m=0),S.push(I);var E=Object(b.a)(I,2);f=E[0],v=E[1]}e.moveKnight(S);var A={totalMoves:c+t,countsForReturn:l.concat(p),countsForTour:u.concat(x),currentReturnCount:g,currentTourCount:m};e.setState({stats:A,visitedSquareNameSet:O})},e.makeManualMove=function(t){var n=e.state,a=n.totalFiles,r=n.totalRanks,s=n.startSquareName,i=n.visitedSquareNameSet,o=n.stats,c=o.totalMoves,l=o.countsForReturn,u=o.countsForTour,d=o.currentReturnCount,h=o.currentTourCount,b=d+1,j=l.slice(0);t===s&&(j.push(b),b=0);var f=h+1,v=u.slice(0),g=new Set(i);g.add(t),g.size===a*r&&(v.push(f),f=0,g=new Set([t]));var m=E(t),O=m.fileIndex,p=m.rankIndex;e.moveKnight([[O,p]]),e.setClickedSquare(O,e.reverseRankIndex(p));var x={totalMoves:c+1,countsForReturn:l.concat(j),countsForTour:u.concat(v),currentReturnCount:b,currentTourCount:f};e.setState({stats:x,visitedSquareNameSet:g})},e.setSpeed=function(t){var n=t.target.value;e.setState({speedIndex:parseInt(n,10)})},e.toggleDisplaySettings=function(t){var n=Object.assign({},e.state.displaySettings,Object(d.a)({},t,!e.state.displaySettings[t]));e.setState({displaySettings:n})},e.resetBoard=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.state.isClicked&&e.unsetClickedSquare();var a=new Array(e.state.totalRanks).fill(0).map((function(){return new Array(e.state.totalFiles).fill(0)})),r=t,s=n,i=1,o=N(n,t),c=new Set([o]),l=Object.assign({},Me);e.setState({visitCounts:a,currentFileIndex:s,currentRankIndex:r,maxSquareCount:i,startSquareName:o,visitedSquareNameSet:c,stats:l})},e.changeDimensions=function(t,n){document.documentElement.style.setProperty("--total-files",t),document.documentElement.style.setProperty("--total-ranks",n);var a=0;e.boardEl?a=e.boardEl.clientWidth/t:console.error("Unable to get ref when changing dimensions."),e.setState({totalFiles:t,totalRanks:n,squareWidth:a},(function(){e.resetBoard()}))},e.setIsDragging=function(t){e.setState({isDragging:t})},e.setDropSquare=function(t){var n=E(t),a=n.fileIndex,r=n.rankIndex;e.resetBoard(r,a)},e.setMode=function(t){var n=t.target.value;if("auto"===n)e.setState({isManual:!1,isClicked:!1,targetSquareNames:[]});else{if("manual"!==n)throw new Error("Unrecognized value '".concat(n,"' in setMode."));e.setState({isManual:!0})}},e.setClickedSquare=function(t,n){var a=e.reverseRankIndex(n),r=q(t,a,e.state.totalFiles,e.state.totalRanks).map((function(e){return N.apply(void 0,Object(h.a)(e))}));e.setState({isClicked:!0,targetSquareNames:r})},e.unsetClickedSquare=function(){e.setState({isClicked:!1,targetSquareNames:[]})};var a=new Array(8).fill(0).map((function(){return new Array(8).fill(0)})),r=function(e,t){var n=document.createElement("canvas");n.height=1,n.width=e;var a=n.getContext("2d"),r=a.createLinearGradient(0,0,e,0);return t.forEach((function(e,n){r.addColorStop(n/(t.length-1),e)})),a.fillStyle=r,a.fillRect(0,0,e,1),a.getImageData(0,0,e,1)}(500,["#fff",getComputedStyle(document.documentElement).getPropertyValue("--dark-square-bg-color")||"black"]),s=Object.assign({},Me);return e.boardEl=null,e.state={totalRanks:8,totalFiles:8,stats:s,visitedSquareNameSet:new Set(["a1"]),maxSquareCount:1,visitCounts:a,startSquareName:"a1",currentRankIndex:0,currentFileIndex:0,targetSquareNames:[],squareWidth:0,speedIndex:0,displaySettings:{showKnight:!0,showCount:!0,showPercent:!1,showHeatmap:!1,showHighlight:!0},gradientImageData:r,isManual:!1,isResizing:!1,isDragging:!1,isClicked:!1,timeoutId:null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.resizeObserver=new ResizeObserver(this.resizeCallback),this.boardEl&&this.resizeObserver.observe(this.boardEl)}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(),this.state.timeoutId&&window.clearTimeout(this.state.timeoutId)}},{key:"render",value:function(){var e=this,t=Array.from(R.values())[this.state.speedIndex],n=this.state.displaySettings.showKnight&&t>=y;return Object(j.jsx)("main",{children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(f,{refCallback:this.boardRefCallback,children:this.state.visitCounts.slice(0).reverse().map((function(t,n){var a=e.reverseRankIndex(n),r=a===e.state.currentRankIndex,s=M(a);return Object(j.jsx)(v,{isCurrent:r,rankName:s,children:t.map((function(t,n){return Object(j.jsx)(g,{visitCount:t,maxSquareCount:e.state.maxSquareCount,squareName:I(n)+s,getHeatmapHexString:e.getHeatmapHexString,setDropSquare:e.setDropSquare,makeManualMove:e.makeManualMove,unsetClickedSquare:e.unsetClickedSquare,displaySettings:e.state.displaySettings,isCurrent:r&&n===e.state.currentFileIndex,isDragging:e.state.isDragging,isTarget:e.state.targetSquareNames.includes(N(n,a)),isManual:e.state.isManual},I(n)+s)}))},a)}))}),n&&Object(j.jsx)(O,{squareWidth:this.state.squareWidth,visualRankIndex:this.reverseRankIndex(this.state.currentRankIndex),fileIndex:this.state.currentFileIndex,interval:t,setIsDragging:this.setIsDragging,setClickedSquare:this.setClickedSquare,unsetClickedSquare:this.unsetClickedSquare,isDraggable:0===this.state.stats.totalMoves||this.state.isManual,isResizing:this.state.isResizing,isManual:this.state.isManual,isClicked:this.state.isClicked}),Object(j.jsx)("div",{className:"panel left",children:Object(j.jsx)(G,{buttonText:Ee[this.props.lang],children:Object(j.jsx)(le,{stats:this.state.stats,visitCounts:this.state.visitCounts})})}),Object(j.jsxs)("div",{className:"panel right",children:[Object(j.jsx)(L,{makeRandomMoves:this.makeRandomMoves,resetBoard:this.resetBoard,interval:t,totalFiles:this.state.totalFiles,totalRanks:this.state.totalRanks,isManual:this.state.isManual}),Object(j.jsx)(G,{buttonText:Ne[this.props.lang],children:Object(j.jsx)(Ie,{speedNames:Array.from(R.keys()),speedIndex:this.state.speedIndex,setSpeed:this.setSpeed,displaySettings:this.state.displaySettings,toggleDisplaySettings:this.toggleDisplaySettings,initialTotalFiles:this.state.totalFiles,initialTotalRanks:this.state.totalRanks,changeDimensions:this.changeDimensions,isManual:this.state.isManual,setMode:this.setMode})})]})]})})}}]),n}(a.Component);var De=function(){var e=Object(a.useContext)(F),t=e.setLang,n=e.lang,r=k.OTHER_LANG,s=k.OTHER_LANG_CODE;return Object(j.jsx)("div",{className:"lang-switcher",children:Object(j.jsx)("button",{type:"button",className:"button-link lang",onClick:function(){t(s[n])},children:r[n]})})},qe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),a=t.call(this,e);var r=navigator.language.slice(0,2);return a.setLang=function(e){a.setState({lang:e})},a.state={lang:r,setLang:a.setLang},a}return Object(c.a)(n,[{key:"render",value:function(){return Object(j.jsx)(F.Provider,{value:this.state,children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)(De,{}),Object(j.jsx)("h1",{children:k.TITLE[this.state.lang]})]}),Object(j.jsx)(Ae,{lang:this.state.lang}),Object(j.jsx)("footer",{children:Object(j.jsx)("a",{className:"light",href:"https://github.com/miachenmtl/random-jumps",children:"Source and ReadMe"})})]})})}}]),n}(a.Component);i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(qe,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.8cbdf30a.chunk.js.map